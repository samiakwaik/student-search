<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø­Ø³Ø§Ø¨ Ø§Ù„Ø·Ø§Ù„Ø¨Ø©</title>
<style>
body {font-family: 'Cairo', sans-serif; text-align: center; margin-top: 60px;}
input, button {
  padding: 10px; font-size: 16px; margin: 5px;
}
#result {margin-top: 25px; font-size: 18px; color: #333;}
</style>
</head>
<body>

<h2>ğŸ” Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø­Ø³Ø§Ø¨ Ø§Ù„Ø·Ø§Ù„Ø¨Ø©</h2>
<p>Ø£Ø¯Ø®Ù„ÙŠ Ø±Ù‚Ù… Ø§Ù„Ù‡ÙˆÙŠØ©:</p>
<input type="text" id="searchInput" placeholder="Ù…Ø«Ø§Ù„: 456">
<button onclick="searchStudent()">Ø¨Ø­Ø«</button>

<div id="result"></div>

<script>
async function searchStudent() {
  const input = document.getElementById("searchInput").value.trim();
  const resultDiv = document.getElementById("result");
  resultDiv.textContent = "Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¨Ø­Ø«...";

  // ğŸ“‹ Ù‡Ø°Ø§ Ù‡Ùˆ Ø±Ø§Ø¨Ø· Google Sheet Ù…Ø¹ Ø§Ù„ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„ØµØ­ÙŠØ­
  const sheetID = "1Jt_C4olgKgKjl2JrAD3wuZ7uf-Og2Ktn"; // â† ØªØ£ÙƒØ¯ÙŠ Ù…Ù† Ø£Ù† Ù‡Ø°Ø§ Ù‡Ùˆ Ø§Ù„Ù€ ID Ø§Ù„ØµØ­ÙŠØ­ Ù…Ù† Ø§Ù„Ø±Ø§Ø¨Ø·
  const sheetName = "Sheet1";
  
  // â­ï¸â­ï¸ Ù‡Ø°Ø§ Ù‡Ùˆ Ø§Ù„Ø³Ø·Ø± Ø§Ù„Ù…ØµØ­Ø­ â­ï¸â­ï¸
  const sheetURL = `https://docs.google.com/spreadsheets/d/${sheetID}/gviz/tq?tqx=out:json&sheet=${sheetName}`;

  try {
    const res = await fetch(sheetURL);
    const text = await res.text();
    // Ø¥Ø²Ø§Ù„Ø© Wrapper JSONP
    const json = JSON.parse(text.substr(47).slice(0, -2)); 
    const rows = json.table.rows;

    let found = false;
    for (const row of rows) {
      // Ù†Ø³ØªØ®Ø¯Ù… .c[0] Ù„Ø£Ù† Ø§Ù„Ø¹Ù…ÙˆØ¯ Ø§Ù„Ø£ÙˆÙ„ Ù‡Ùˆ ID (ØªØ¬Ø§Ù‡Ù„ Ø§Ù„ØµÙ Header)
      const id = row.c[0]?.v; 
      const username = row.c[1]?.v; 
      const password = row.c[2]?.v; 

      if (id == input) {
        resultDiv.innerHTML = `
          <b>âœ… ØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø§Ù„Ø­Ø³Ø§Ø¨:</b><br>
          <b>ğŸ“§ Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…:</b> ${username}<br>
          <b>ğŸ”‘ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±:</b> ${password}
        `;
        found = true;
        break;
      }
    }

    if (!found) resultDiv.textContent = "âŒ Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø±Ù‚Ù… Ø§Ù„Ù‡ÙˆÙŠØ© Ø§Ù„Ù…Ø¯Ø®Ù„.";
  } catch (err) {
    // Ù‡Ø°Ù‡ Ø§Ù„Ø±Ø³Ø§Ù„Ø© ØªØ¸Ù‡Ø± Ø¥Ø°Ø§ ÙØ´Ù„ Ø¬Ù„Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª (Ø¨Ø³Ø¨Ø¨ Ø§Ù„Ø±Ø§Ø¨Ø· Ø£Ùˆ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ©)
    resultDiv.textContent = "âš  Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø¬Ù„Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª. ØªØ£ÙƒØ¯ÙŠ Ù…Ù† Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ© ÙˆØ§Ù„Ø±Ø§Ø¨Ø·.";
    console.error(err);
  }
}
</script>

</body>
</html>